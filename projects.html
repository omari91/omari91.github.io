<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clifford Ondieki | Alchemical Architect Portfolio</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom Font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9fafb; /* White/Ivory: bg-gray-50 */
        }
        /* Mobile menu transition helper */
        .mobile-menu-closed {
            max-height: 0;
            opacity: 0;
            transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out;
            overflow: hidden;
        }
        .mobile-menu-open {
            max-height: 500px; /* Arbitrary large value */
            opacity: 1;
            transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        /* Lock icon for gated content */
        .lock-icon {
            color: #fbbf24; /* Soft Gold: amber-400 */
        }
        /* Theme Colors */
        .theme-indigo {
            background-color: #283593; /* Deep Indigo: indigo-900 */
            color: #ffffff;
        }
        .theme-text-indigo {
            color: #283593;
        }
        .theme-bg-indigo-light {
             background-color: #eef2ff; /* Custom lighter tone for accents */
        }
        .theme-rose-bg {
            background-color: #fff1f2; /* Crimson/Burgundy: rose-50 */
            border-left-color: #9f1239; /* rose-800 */
        }
        .theme-rose-text {
            color: #9f1239; /* rose-800 */
        }
        .theme-teal-bg {
            background-color: #f0fdfa; /* Emerald Green: teal-50 */
            border-left-color: #0f766e; /* teal-700 */
        }
        .theme-teal-text {
            color: #0f766e; /* teal-700 */
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- Navbar -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-white shadow-md">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Brand/Logo - Deep Indigo -->
                <a href="#projects" class="flex items-center space-x-2 theme-text-indigo font-bold text-lg">
                    <img src="/assets/imgs/profile-icon.png" alt="Clifford Ondieki Profile Icon" class="rounded-full h-8 w-8 object-cover" 
                         onerror="this.onerror=null; this.src='https://placehold.co/30x30/283593/ffffff?text=C';" />
                    <span>Clifford Ondieki <small class="text-sm font-normal text-gray-500 hidden sm:inline">| Hybrid Innovator</small></span>
                </a>

                <!-- Desktop Menu -->
                <div class="hidden lg:flex lg:items-center lg:space-x-4">
                    <ul class="flex space-x-4">
                        <li><a href="#home" class="px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-indigo-800 transition duration-150 ease-in-out">Home</a></li>
                        <li><a href="#about" class="px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-indigo-800 transition duration-150 ease-in-out">About</a></li>
                        <li><a href="#projects" class="px-3 py-2 text-sm font-medium rounded-md bg-indigo-900/10 theme-text-indigo font-semibold transition duration-150 ease-in-out">Projects</a></li>
                        <li><a href="#contact" class="px-3 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-indigo-800 transition duration-150 ease-in-out">Contact</a></li>
                    </ul>
                    <!-- Language Toggles - Deep Indigo -->
                    <div class="flex space-x-2 ml-4">
                        <a href="#" class="px-3 py-1 text-sm font-semibold rounded-full bg-indigo-800 text-white">EN</a>
                        <a href="#" class="px-3 py-1 text-sm font-medium rounded-full text-gray-600 hover:bg-gray-100">DE</a>
                    </div>
                </div>

                <!-- Mobile Menu Button -->
                <button
                    id="mobile-menu-button"
                    class="lg:hidden p-2 text-gray-500 hover:text-indigo-800 focus:outline-none"
                    aria-expanded="false"
                    aria-controls="mobile-menu"
                >
                    <!-- Menu Icon (default) -->
                    <svg id="menu-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg>
                    <!-- X Icon (hidden by default) -->
                    <svg id="x-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6 hidden"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
                </button>
            </div>
        </div>

        <!-- Mobile Menu Panel -->
        <div id="mobile-menu" class="lg:hidden mobile-menu-closed">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#home" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-indigo-50" onclick="toggleMobileMenu()">Home</a>
                <a href="#about" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-indigo-50" onclick="toggleMobileMenu()">About</a>
                <a href="#projects" class="block px-3 py-2 rounded-md text-base font-medium bg-indigo-900/10 theme-text-indigo" onclick="toggleMobileMenu()">Projects</a>
                <a href="#contact" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-indigo-50" onclick="toggleMobileMenu()">Contact</a>
                <div class="pt-4 border-t border-gray-200 flex justify-center space-x-4">
                    <a href="#" class="px-3 py-1 text-base font-semibold rounded-full bg-indigo-800 text-white">EN</a>
                    <a href="#" class="px-3 py-1 text-base font-medium rounded-full text-gray-600 hover:bg-gray-100">DE</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section - Deep Indigo -->
    <section class="pt-24 pb-16 theme-indigo text-white text-center shadow-inner">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl sm:text-5xl font-extrabold mb-3">Engineering with Impact</h1>
            <p class="text-xl font-light opacity-90">Projects that bridge technical excellence with human purpose</p>
        </div>
    </section>

    <!-- Projects Section - Main Content -->
    <main id="projects" class="container mx-auto px-4 py-12 lg:py-20">

        <!-- Open Projects Header - Deep Indigo -->
        <div class="mb-12">
            <h2 class="text-3xl sm:text-4xl font-bold text-center text-indigo-900">Current Innovation & Future Vision</h2>
            <p class="text-center text-lg text-gray-500 mt-2">Bridging technical excellence with human-centered impact</p>
        </div>

        <!-- Open Projects List Container -->
        <div id="open-projects-container" class="space-y-16">
            <!-- Projects will be rendered here by JavaScript -->
        </div>

        <!-- Gated Projects Header - Deep Indigo -->
        <div class="mt-20 mb-12">
            <h2 class="text-3xl sm:text-4xl font-bold text-center text-indigo-900">Premium Case Studies</h2>
            <p class="text-center text-lg text-gray-500 mt-2">Advanced projects and sensitive implementations - full details available on request</p>
        </div>

        <!-- Gated Projects List Container -->
        <div id="gated-projects-container" class="space-y-16">
            <!-- Gated Projects will be rendered here by JavaScript -->
        </div>
    </main>

    <!-- Call to Action - Deep Indigo -->
    <section id="contact" class="py-16 theme-indigo text-white text-center">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl sm:text-4xl font-extrabold mb-4">Ready to Build Something Impactful?</h2>
            <p class="text-lg font-light mb-6">Let's combine technical excellence with purpose-driven innovation to create solutions that truly matter.</p>
            <!-- CTA Button uses White background with Deep Indigo text -->
            <a href="#contact" class="inline-block py-3 px-8 rounded-full bg-white text-indigo-900 font-bold text-lg shadow-xl hover:bg-gray-100 transition duration-300">
                Let's Energize Change Together âš¡
            </a>
        </div>
    </section>

    <!-- Footer - Graphite Grey -->
    <footer class="bg-gray-900 text-white text-center py-6">
        <div class="container mx-auto px-4">
            <div class="mb-3">
                <!-- LinkedIn Icon SVG -->
                <a
                    href="https://www.linkedin.com/in/clifford-ondieki-559b9771/"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="text-gray-400 hover:text-white transition duration-200"
                    title="LinkedIn Profile"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 inline-block"><path d="M16 8a6 6 0 0 0-6 6v7H6v-7a6 6 0 0 1 6-6h4z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg>
                </a>
            </div>
            <p class="text-sm mb-1">
                Copyright &copy; <span id="current-year"></span>
                <!-- Soft Gold Accent Link -->
                <a href="#" class="text-amber-400 hover:text-amber-300 ml-1">Bridging technology with purpose â€” energizing change one system at a time.</a>
            </p>
            <p class="text-xs mt-2 space-x-3">
                <a href="#privacy" class="text-gray-400 hover:text-white">Privacy Policy</a>
                <span class="text-gray-600">|</span>
                <a href="#contact" class="text-gray-400 hover:text-white">Contact</a>
                <span class="text-gray-600">|</span>
                <a href="philosophy.html" class="text-white hover:text-amber-400">Philosophy</a>
                <span class="text-gray-600">|</span>
                <a href="insights.html" class="text-white hover:text-amber-400">Insights</a>
            </p>
        </div>
    </footer>

    <script>
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // --- Data Definition (Updated with local asset paths) ---
        const projects = [
            {
                id: 'ev-charger',
                title: 'Equitable EV Charger Deployment in Berlin',
                lead: "An ongoing data-driven geospatial optimization pipeline to balance coverage and spatial equity in Berlin's EV charging infrastructure.",
                challenge: "Public Electric Vehicle (EV) charging infrastructure is largely demand-driven, reinforcing spatial inequities. This creates a 'chicken-and-egg' problem, where a lack of infrastructure suppresses EV adoption in underserved areas, justifying continued underinvestment.",
                solution: "We implemented a multi-objective NSGA-II model in Python to balance coverage and spatial equity, minimizing the Gini coefficient of EVs per charger. This approach provides different Pareto-optimal deployment strategies for urban planners, directly addressing infrastructure placement under complex geospatial and socio-economic constraints.",
                stack: ['Python', 'NSGA-II', 'Geospatial Optimization', 'Multi-Objective Optimization', 'Gini Coefficient Analysis', 'Urban Planning'],
                metrics: [
                    { number: '13%', description: 'Reduction in Citywide Gini Coefficient' },
                    { number: '6x', description: 'More Chargers to Underserved Areas' },
                    { number: '21%', description: 'Boost in Local Access' },
                ],
                // Updated Image Path
                image: 'assets/imgs/berlin.png',
                imageAlt: 'Berlin EV Charger Distribution',
                lessonTitle: 'Philosophy in Action',
                lesson: "The objective is not just to deploy more chargers, but to deploy them strategically to foster equitable access and sustainable urban mobility. My framework empowers municipalities to navigate the efficiency-equity trade-off with data-driven insights.",
                link: '#',
                linkLabel: 'Explore My Work',
                isGated: false
            },
            {
                id: 'climate-tech-advisory',
                title: 'Climate Tech Investment Consultancy',
                lead: "Bridging venture capital analysis with infrastructure deployment expertise to de-risk climate tech investments.",
                challenge: "Climate tech faces a critical gap: investors lack deployment expertise while infrastructure experts lack capital market access. This disconnect slows climate progress and wastes promising technologies.",
                solution: "Through my Energy Innovation Capital externship, I'm learning to integrated frameworks that evaluates startups through multiple lenses: investment potential, operational viability, and deployment strategy.",
                stack: ['Venture Capital Analysis', 'Operational Due Diligence', 'Deployment Strategy', 'Market Research', 'Spatial Equity', 'Risk Assessment'],
                metrics: [
                    { number: '5+', description: 'Startups Analyzed' },
                    { number: '6', description: 'Investment Theses' },
                    { number: '3x', description: 'Analysis Depth' },
                ],
                // Updated Image Path
                image: 'assets/imgs/collaboration.png',
                imageAlt: 'Climate Tech Advisory',
                lessonTitle: 'Full-Stack Advantage',
                lesson: "Most advisors excel in one domain. I bridge investment analysis with operational execution, providing the complete picture that investors need and startups require to succeed.",
                link: '#',
                linkLabel: 'View Case Study',
                isGated: false
            },
            {
                id: 'health-tech',
                title: 'Health Tech Load Balancing System',
                lead: "Applying power grid principles to optimize healthcare service distribution across rural Kenya.",
                challenge: "Rural health facilities in Kenya were experiencing uneven patient loads, with some overwhelmed while others remained underutilized. This led to longer wait times, reduced quality of care, and inefficient resource allocation.",
                solution: "Drawing from my power grid experience, I developed a load balancing algorithm that treats patient flow like electrical current. The system dynamically redistributes patients to optimize resource utilization while minimizing travel distance and wait times.",
                stack: ['Node.js', 'React', 'MongoDB', 'Load Balancing Algorithms', 'Geospatial Analysis', 'Real-time Analytics'],
                metrics: [
                    { number: '50%', description: 'Reduced Wait Times' },
                    { number: '30%', description: 'Improved Resource Utilization' },
                    { number: '15k+', description: 'Patients Served Monthly' },
                ],
                // Updated Image Path
                image: 'assets/imgs/change.png',
                imageAlt: 'Health Tech Load Balancing',
                lessonTitle: 'Cross-Domain Innovation',
                lesson: "This project proved that engineering empathy scales across domains. Power grid principles applied to healthcare access demonstrate how systemic thinking can solve seemingly unrelated problems.",
                link: '#',
                linkLabel: 'Learn More',
                isGated: false
            },
            {
                id: 'predictive-ai',
                title: 'Predictive Maintenance AI for Geothermal Plants',
                lead: 'A machine learning system for predicting equipment failures in geothermal power generation, reducing operational costs and increasing plant uptime.',
                challenge: "Geothermal power plants in Kenya's Rift Valley were experiencing unexpected equipment failures, leading to costly downtime and reduced clean energy generation. Traditional maintenance schedules were inefficient and reactive.",
                solution: "I developed a predictive maintenance system using machine learning algorithms to analyze sensor data across key equipment. The system learned to identify patterns that preceded failures, enabling proactive maintenance scheduling.",
                stack: ['Python', 'TensorFlow', 'Time Series Analysis', 'Data Visualization'],
                metrics: [
                    { number: '40%', description: 'Reduction in Downtime' },
                    { number: '$2M', description: 'Annual Cost Savings' },
                    { number: '95%', description: 'Prediction Accuracy' },
                ],
                // Updated Image Path
                image: 'assets/imgs/geothermal-drilling-activities.jpg',
                imageAlt: 'Predictive Maintenance AI',
                lessonTitle: 'Key Insight',
                lesson: "This project revealed how data-driven decisions create human-centric solutions. The principles of optimization and efficiency I learned here now inform my approach to SaaS uptime and product operational excellence.",
                link: 'https://drive.google.com/file/d/0B2ovMeevnDjZd195VHN4UjNXak0/view?usp=sharing&resourcekey=0-OM41Swf1myiikab1d5w7LQ',
                linkLabel: 'View full documentation',
                isGated: false
            },
            {
                id: 'kinangop',
                title: 'Kinangop Wind Power Integration',
                lead: 'A dynamic voltage stability analysis incorporating Kinangop wind power into Kenya\'s 59-bus national grid.',
                challenge: "Kenya's power grid needed to accommodate the intermittent nature of wind power while maintaining system stability. The challenge was ensuring that voltage fluctuations from wind generation wouldn't destabilize the entire network serving millions of Kenyans.",
                solution: "I developed a comprehensive dynamic voltage stability analysis using DIgSILENT PowerFactory, modeling the entire power system to simulate and mitigate voltage fluctuations. This wasn't just a technical task; it was about ensuring reliable power for healthcare, education, and economic development.",
                stack: ['DIgSILENT PowerFactory', 'Power System Analysis', 'Renewable Energy Integration', 'Grid Stability Modeling'],
                metrics: [
                    { number: '25%', description: 'Improved Grid Stability' },
                    { number: '60MW', description: 'Clean Energy Integrated' },
                    { number: '100k+', description: 'Households Benefited' },
                ],
                // Updated Image Path
                image: 'assets/imgs/wind farm.jpg',
                imageAlt: 'Kinangop Wind Integration',
                lessonTitle: 'Key Lesson',
                lesson: "This project taught me that resilience isn't just for power linesâ€”it's for people's access to vital services. The systemic thinking I developed here now informs how I approach SaaS architecture and load balancing.",
                link: 'https://drive.google.com/file/d/1NBIsal051Oqn_8JWls9Lhgr8mEcLpKhq/view',
                linkLabel: 'Read the full technical report',
                isGated: false
            }
        ];

        const gatedProjects = [
            {
                id: 'gated-grid-optimization',
                title: 'Advanced Grid Optimization with AI-Driven Load Forecasting',
                lead: "A comprehensive smart grid solution implementing machine learning algorithms for predictive load management across Kenya's national power infrastructure.",
                highlights: [
                    'Reduced grid instability incidents by **32%**',
                    'Improved load forecasting accuracy to **94.7%**',
                    'Deployed across **15 major substations**',
                    'Integrated with existing SCADA systems',
                ],
                stack: ['Python', 'TensorFlow', 'LSTM Networks', 'SCADA Integration', 'Real-time Analytics'],
                // Updated Image Path
                image: '/assets/imgs/ai-optimization.jpg',
                imageAlt: 'Advanced Grid Optimization Preview',
                ctaMessage: 'Full case study available on request',
                ctaSubtext: 'Includes technical architecture, implementation details, and performance analysis',
                ctaLink: '#contact',
                ctaLabel: 'Request Full Case Study'
            },
            {
                id: 'gated-iot-platform',
                title: 'Industrial IoT Platform for Manufacturing Excellence',
                lead: 'Enterprise-grade IoT solution for real-time monitoring and optimization of manufacturing processes across multiple facilities.',
                highlights: [
                    'Increased overall equipment effectiveness by **28%**',
                    'Reduced unplanned downtime by **45%**',
                    'Connected **500+ sensors** across 3 facilities',
                    'Real-time dashboard with predictive alerts',
                ],
                stack: ['Node.js', 'InfluxDB', 'MQTT', 'Docker', 'Grafana'],
                // Updated Image Path
                image: 'assets/imgs/iot.png',
                imageAlt: 'Industrial IoT Platform Preview',
                ctaMessage: 'Detailed implementation guide available on request',
                ctaSubtext: 'Includes system architecture, sensor integration, and ROI analysis',
                ctaLink: '#contact',
                ctaLabel: 'Request Implementation Details'
            }
        ];

        // --- Utility Functions ---

        function getProjectCardHtml(project, index) {
            const isReversed = index % 2 !== 0;
            const directionClass = isReversed ? 'lg:flex-row-reverse' : 'lg:flex-row';

            const techStackHtml = project.stack.map(tech => `
                <span class="px-3 py-1 text-xs font-medium bg-indigo-900/10 text-indigo-800 rounded-full shadow-sm">
                    ${tech}
                </span>
            `).join('');

            const metricsHtml = project.metrics.map(metric => `
                <div class="text-center p-2">
                    <div class="text-3xl sm:text-4xl font-extrabold text-indigo-800">${metric.number}</div>
                    <p class="text-xs text-gray-500 font-medium mt-1">${metric.description}</p>
                </div>
            `).join('');

            return `
                <div class="bg-white p-6 md:p-10 rounded-xl shadow-2xl hover:shadow-indigo-300/50 transition duration-300 ease-in-out border border-gray-100">
                    <div class="flex flex-col ${directionClass} items-start gap-8">
                        <!-- Content Column -->
                        <div class="flex-1">
                            <h2 class="text-3xl font-extrabold text-gray-900 mb-3">${project.title}</h2>
                            <p class="text-xl font-medium text-indigo-700 mb-6">${project.lead}</p>

                            <!-- Challenge - Crimson/Deep Burgundy -->
                            <div class="mb-6 border-l-4 border-rose-800 pl-4 theme-rose-bg p-3 rounded-md">
                                <h4 class="text-lg font-semibold theme-rose-text mb-1">The Challenge</h4>
                                <p class="text-gray-600 text-sm">${project.challenge}</p>
                            </div>

                            <!-- Solution - Emerald Green -->
                            <div class="mb-6 border-l-4 border-teal-700 pl-4 theme-teal-bg p-3 rounded-md">
                                <h4 class="text-lg font-semibold theme-teal-text mb-1">${project.lessonTitle === 'My Approach' ? 'My Approach' : 'Our Data-Driven Solution'}</h4>
                                <p class="text-gray-600 text-sm">${project.solution}</p>
                            </div>

                            <!-- Tech Stack -->
                            <div class="flex flex-wrap gap-2 mb-8">
                                ${techStackHtml}
                            </div>

                            <!-- Impact Metrics -->
                            <div class="grid grid-cols-3 gap-4 border-t pt-4 mt-4">
                                ${metricsHtml}
                            </div>
                        </div>

                        <!-- Image and Lesson Card Column -->
                        <div class="lg:w-1/3 flex flex-col items-center">
                            <img
                                src="${project.image}"
                                alt="${project.imageAlt}"
                                class="w-full h-auto rounded-lg shadow-lg border border-gray-200 object-cover"
                                onerror="this.onerror=null; this.src='https://placehold.co/400x300/283593/ffffff?text=Image+Unavailable';"
                            />
                            <div class="bg-gray-50 p-5 mt-6 w-full rounded-xl shadow-inner border border-gray-200">
                                <h5 class="text-xl font-bold text-gray-800 mb-2">${project.lessonTitle}</h5>
                                <p class="text-sm text-gray-600 mb-4">${project.lesson}</p>
                                <!-- Deep Indigo CTA -->
                                <a href="${project.link}" target="_blank" rel="noopener noreferrer" class="block w-full text-center py-2 px-4 rounded-full bg-indigo-800 text-white font-semibold hover:bg-indigo-700 transition duration-150">
                                    ${project.linkLabel}
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function getGatedProjectCardHtml(project, index) {
            const isReversed = index % 2 !== 0;
            const directionClass = isReversed ? 'lg:flex-row-reverse' : 'lg:flex-row';

            const highlightsHtml = project.highlights.map(h => {
                const bolded = h.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                return `<li class="text-gray-600">${bolded}</li>`;
            }).join('');

            const techStackHtml = project.stack.map(tech => `
                <span class="px-3 py-1 text-xs font-medium bg-gray-200 text-gray-700 rounded-full">
                    ${tech}
                </span>
            `).join('');

            // SVG for Lock Icon
            const lockIconSvg = `
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-10 h-10 mx-auto mb-4 lock-icon">
                    <rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
            `;
            
            // SVG for Eye Icon
            const eyeIconSvg = `
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 mx-auto mb-1">
                    <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                </svg>
            `;

            return `
                <!-- Border uses Soft Gold (Amber) -->
                <div class="bg-white p-6 md:p-10 rounded-xl shadow-2xl border-4 border-amber-400 relative overflow-hidden group">
                    <!-- Overlay Effect for Gated Content -->
                    <div class="absolute inset-0 bg-gray-900/90 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-xl p-8 z-10">
                        <div class="text-center text-white">
                            ${lockIconSvg}
                            <p class="text-xl font-bold">${project.ctaMessage}</p>
                            <small class="block text-gray-300 mb-6">${project.ctaSubtext}</small>
                            <!-- CTA uses Soft Gold with Graphite text -->
                            <a href="${project.ctaLink}" class="bg-amber-400 text-gray-900 font-bold py-3 px-6 rounded-full shadow-lg hover:bg-amber-300 transition">
                                ${project.ctaLabel}
                            </a>
                        </div>
                    </div>

                    <div class="flex flex-col ${directionClass} items-start gap-8 opacity-50 group-hover:opacity-20 transition-opacity duration-500">
                        <!-- Content Column (Blurred/Dimmed) -->
                        <div class="flex-1">
                            <h2 class="text-3xl font-extrabold text-gray-700 mb-3">${project.title}</h2>
                            <p class="text-xl font-medium text-gray-500 mb-6">${project.lead}</p>

                            <div class="bg-gray-100 p-4 rounded-lg mb-6">
                                <h4 class="text-lg font-semibold text-gray-600 mb-2">Project Highlights (Teaser)</h4>
                                <ul class="list-disc list-inside text-gray-600 space-y-1">
                                    ${highlightsHtml}
                                </ul>
                            </div>

                            <!-- Tech Stack -->
                            <div class="flex flex-wrap gap-2 mb-4">
                                ${techStackHtml}
                            </div>
                        </div>

                        <!-- Image Column -->
                        <div class="lg:w-1/3 flex flex-col items-center">
                            <div class="relative w-full">
                                <img
                                    src="${project.image}"
                                    alt="${project.imageAlt}"
                                    class="w-full h-auto rounded-lg shadow-lg object-cover"
                                    onerror="this.onerror=null; this.src='https://placehold.co/400x300/283593/ffffff?text=Gated+Preview';"
                                />
                                <div class="absolute inset-0 flex items-center justify-center bg-black/40 rounded-lg">
                                    <div class="text-center text-white">
                                        ${eyeIconSvg}
                                        <p class="font-semibold">Preview Available</p>
                                        <small>Hover for details</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderProjects() {
            const openContainer = document.getElementById('open-projects-container');
            const gatedContainer = document.getElementById('gated-projects-container');

            let openHtml = '';
            projects.forEach((project, index) => {
                openHtml += getProjectCardHtml(project, index);
                if (index < projects.length - 1) {
                    openHtml += '<div class="border-b border-indigo-200 opacity-50 my-10"></div>';
                }
            });

            let gatedHtml = '';
            gatedProjects.forEach((project, index) => {
                gatedHtml += getGatedProjectCardHtml(project, index);
            });

            openContainer.innerHTML = openHtml;
            gatedContainer.innerHTML = gatedHtml;
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const menuBtn = document.getElementById('mobile-menu-button');
            const menuIcon = document.getElementById('menu-icon');
            const xIcon = document.getElementById('x-icon');
            
            const isMenuOpen = menu.classList.toggle('mobile-menu-open');
            menu.classList.toggle('mobile-menu-closed', !isMenuOpen);

            if (isMenuOpen) {
                menuBtn.setAttribute('aria-expanded', 'true');
                menuIcon.classList.add('hidden');
                xIcon.classList.remove('hidden');
            } else {
                menuBtn.setAttribute('aria-expanded', 'false');
                menuIcon.classList.remove('hidden');
                xIcon.classList.add('hidden');
            }
        }

        // Attach event listener for mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', toggleMobileMenu);

        // Render projects on load
        window.onload = renderProjects;
    </script>
</body>
</html>
